<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
    <title>InkManager Pro - Professional Tattoo Studio Management</title>
    <meta name="description" content="Complete tattoo studio management system for professional artists">
    <meta name="theme-color" content="#00bcd4">    
    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https://cdnjs.cloudflare.com; connect-src 'self'; worker-src 'self'; object-src 'none'; base-uri 'self'; frame-ancestors 'none';">

    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    
    <!-- iOS Support -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="InkManager Pro">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="120x120" href="apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="152x152" href="apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="167x167" href="apple-touch-icon-167x167.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    
    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Application Styles -->
    <link rel="stylesheet" href="./assets/css/inline.css">
</head>
<body>
    <!-- Sidebar Navigation -->
    <nav id="sidebar">
        <div class="logo">
            <i class="fas fa-dragon"></i>
            <span class="logo-text">InkManager Pro</span>
        </div>
        
        <div class="nav-section">
            <div class="nav-section-title" data-i18n="main_navigation">Main Navigation</div>
            <a class="nav-link active" data-section="dashboard" href="#dashboard">
                <i class="fas fa-tachometer-alt"></i> <span data-i18n="dashboard">Dashboard</span>
            </a>
            <a class="nav-link" data-section="clients" href="#clients">
                <i class="fas fa-users"></i> <span data-i18n="clients">Clients</span>
            </a>
            <a class="nav-link" data-section="sessions" href="#sessions">
                <i class="fas fa-calendar-check"></i> <span data-i18n="sessions">Sessions</span>
            </a>
            <a class="nav-link" data-section="inventory" href="#inventory">
                <i class="fas fa-boxes"></i> <span data-i18n="inventory">Inventory</span>
            </a>
            <a class="nav-link" data-section="calendar" href="#calendar">
                <i class="fas fa-calendar-day"></i> <span data-i18n="calendar">Calendar</span>
            </a>
            <a class="nav-link" data-section="reports" href="#reports">
                <i class="fas fa-chart-bar"></i> <span data-i18n="reports">Reports</span>
            </a>
            <a class="nav-link" data-section="settings" href="#settings">
                <i class="fas fa-cog"></i> <span data-i18n="settings">Settings</span>
            </a>
        </div>

        <div class="nav-section">
            <div class="nav-section-title" data-i18n="quick_actions">Quick Actions</div>
            <a class="nav-link" id="quickAddClient" href="#">
                <i class="fas fa-user-plus"></i> <span data-i18n="add_client">Add Client</span>
            </a>
            <a class="nav-link" id="quickAddSession" href="#">
                <i class="fas fa-calendar-plus"></i> <span data-i18n="schedule_session">Schedule Session</span>
            </a>
            <a class="nav-link" id="quickAddInventory" href="#">
                <i class="fas fa-box-open"></i> <span data-i18n="add_inventory">Add Inventory</span>
            </a>
        </div>
    </nav>

    <!-- Main Content Area -->
    <div class="app-container">
        <!-- Professional Header -->
        <div class="app-header">
            <div class="app-header-top">
                <div class="header-left">
                    <button class="icon-btn" id="sidebarToggle" title="Toggle sidebar">
                        <i class="fas fa-bars"></i>
                    </button>
                    <div class="logo">
                        <i class="fas fa-dragon"></i>
                        <span class="logo-text">InkManager Pro</span>
                    </div>
                </div>
                <div class="header-actions">
                    <div class="language-selector">
                        <label for="languageSelect" data-i18n="language"><i class="fas fa-globe"></i> Language</label>
                        <select id="languageSelect" aria-label="Select language">
                            <option value="en">üá¨üáß English</option>
                            <option value="es">üá™üá∏ Espa√±ol</option>
                            <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
                            <option value="he">üáÆüá± ◊¢◊ë◊®◊ô◊™</option>
                        </select>
                    </div>
                    <button class="install-btn" id="installButton">
                        <i class="fas fa-download"></i> <span data-i18n="install_app">Install App</span>
                    </button>
                </div>
            </div>
            <div class="tagline" data-i18n="tagline">Professional Tattoo Studio Management System</div>
        </div>

        <!-- Dashboard Section -->
        <section id="dashboard" class="section active">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-tachometer-alt"></i><!-- Dashboard title --> <span data-i18n="studio_overview">Studio Overview</span>
                    </h2>
                    <button class="btn btn-outline" id="dashboardExportBtn"><i class="fas fa-download"></i> <span data-i18n="backup_data">Backup Data</span>
                    </button>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card" id="statCardClients" title="Click to view all clients">
                        <div class="stat-value" id="totalClients">0</div>
                        <div class="stat-label" data-i18n="total_clients">Total Clients</div>
                    </div>
                    <div class="stat-card" id="statCardSessions" title="Click to view all sessions">
                        <div class="stat-value" id="upcomingSessions">0</div>
                        <div class="stat-label" data-i18n="upcoming_sessions">Upcoming Sessions</div>
                    </div>
                    <div class="stat-card" id="statCardRevenue" title="Click to view reports & analytics">
                        <div class="stat-value" id="monthlyRevenue">$0</div>
                        <div class="stat-label" data-i18n="monthly_revenue">Monthly Revenue</div>
                    </div>
                    <div class="stat-card" id="statCardInventory" title="Click to view inventory">
                        <div class="stat-value" id="lowStockItems">0</div>
                        <div class="stat-label" data-i18n="low_stock_items">Low Stock Items</div>
                    </div>
                </div>
            </div>

            <!-- Today's Sessions -->
            <div class="card">
                <h3 class="card-title" id="todaysSessionsTitle"><i class="fas fa-calendar-check"></i> <span data-i18n="todays_schedule">Today's Schedule</span>
                </h3>
                <div id="todaysSessions">
                    <div class="empty-state">
                        <i class="fas fa-calendar-times"></i>
                        <h3 data-i18n="no_sessions_today">No Sessions Today</h3>
                        <p data-i18n="schedule_clear">Your schedule is clear for today</p>
                        <button class="btn btn-primary" id="scheduleSessionBtn"><i class="fas fa-plus"></i> <span data-i18n="schedule_session">Schedule a Session</span>
                        </button>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3 class="card-title" id="quickInsightsTitle"><i class="fas fa-chart-line"></i> <span data-i18n="quick_insights">Quick Insights</span>
                </h3>
                <div id="dashboardInsights">
                    <div class="empty-state">
                        <i class="fas fa-chart-pie"></i>
                        <h3 data-i18n="no_data_yet">No Data Yet</h3>
                        <p data-i18n="start_adding_data">Start adding clients and sessions to see insights</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Clients Section -->
        <section id="clients" class="section">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-users"></i> <span data-i18n="client_management">Client Management</span>
                    </h2>
                    <button class="btn btn-primary" id="addClientBtn">
                        <i class="fas fa-plus"></i> <span data-i18n="new_client">New Client</span>
                    </button>
                </div>

                <div class="form-group">
                    <input type="text" class="form-control" id="clientSearch" 
                           placeholder="üîç Search clients by name, phone, or email..." data-i18n-placeholder="search_clients">
                </div>

                <div id="clientsList">
                    <div class="empty-state">
                        <i class="fas fa-users"></i>
                        <h3 data-i18n="no_clients_yet">No Clients Yet</h3>
                        <p data-i18n="build_client_database">Start building your professional client database</p>
                        <button class="btn btn-primary" id="addFirstClient">
                            <i class="fas fa-plus"></i> <span data-i18n="add_first_client">Add Your First Client</span>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sessions Section -->
        <section id="sessions" class="section">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-calendar-alt"></i> <span data-i18n="session_management">Session Management</span>
                    </h2>
                    <button class="btn btn-primary" id="addSessionBtn">
                        <i class="fas fa-plus"></i> <span data-i18n="new_session">New Session</span>
                    </button>
                </div>

                <div id="sessionsList">
                    <div class="empty-state">
                        <i class="fas fa-calendar-plus"></i>
                        <h3 data-i18n="no_sessions_scheduled">No Sessions Scheduled</h3>
                        <p data-i18n="schedule_first_session">Schedule your first professional tattoo session</p>
                        <button class="btn btn-primary" id="addFirstSession">
                            <i class="fas fa-plus"></i> <span data-i18n="create_first_session">Create First Session</span>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Inventory Section -->
        <section id="inventory" class="section">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-syringe"></i> <span data-i18n="inventory_management">Inventory Management</span>
                    </h2>
                    <button class="btn btn-primary" id="addInventoryBtn">
                        <i class="fas fa-plus"></i> <span data-i18n="new_item">New Item</span>
                    </button>
                </div>

                <div class="form-group">
                    <input type="text" class="form-control" id="inventorySearch" 
                           placeholder="üîç Search inventory items..." data-i18n-placeholder="search_inventory">
                </div>

                <div id="inventoryTabs" style="display: flex; gap: 8px; flex-wrap: wrap; margin: 8px 0 12px;">
                    <button class="btn btn-primary" data-filter="all"><span data-i18n="all">All</span></button>
                    <button class="btn btn-outline" data-filter="needle"><span data-i18n="needle">Needle</span></button>
                    <button class="btn btn-outline" data-filter="ink"><span data-i18n="ink">Ink</span></button>
                    <button class="btn btn-outline" data-filter="machine"><span data-i18n="machine">Machine</span></button>
                    <button class="btn btn-outline" data-filter="supply"><span data-i18n="supply">Supply</span></button>
                    <button class="btn btn-outline" data-filter="aftercare"><span data-i18n="aftercare">Aftercare</span></button>
                    <button class="btn btn-outline" data-filter="safety"><span data-i18n="safety">Safety</span></button>
                </div>

                <div id="inventorySortBar" style="display: flex; gap: 8px; align-items: center; margin: 6px 0 14px; flex-wrap: wrap;">
                    <span style="opacity:0.8;">Sort by:</span>
                    <select class="form-control" id="inventorySortKey" style="max-width: 180px;">
                        <option value="name">Name</option>
                        <option value="type">Type</option>
                        <option value="qty">Quantity</option>
                        <option value="updatedAt">Last Updated</option>
                    </select>
                    <button class="btn btn-outline" id="inventorySortDirBtn" title="Toggle order">Asc ‚Üë</button>
                    <button class="btn btn-outline" id="inventorySelectAllBtn">Select All</button>
                    <button class="btn btn-outline" id="inventoryClearSelectionBtn">Clear</button>
                </div>

                <div id="inventoryBulkActions" style="display:none; align-items:center; justify-content:space-between; gap:12px; background: rgba(255,255,255,0.05); padding: 10px 12px; border-radius: 10px; margin-bottom: 12px; flex-wrap: wrap;">
                    <div style="font-weight:600;"><span id="inventorySelectedCount">0</span> selected</div>
                    <div style="display:flex; gap:10px; flex-wrap: wrap; align-items:center;">
                        <div style="display:flex; align-items:center; gap:6px;">
                            <label for="inventoryBulkTypeSelect" style="opacity:0.7; font-size:0.85rem;" data-i18n="type">Type</label>
                            <select class="form-control" id="inventoryBulkTypeSelect" style="max-width: 160px;">
                                <option value="">--</option>
                                <option value="needle" data-i18n="needle">Needle</option>
                                <option value="ink" data-i18n="ink">Ink</option>
                                <option value="machine" data-i18n="machine">Machine</option>
                                <option value="supply" data-i18n="supply">Supply</option>
                                <option value="aftercare" data-i18n="aftercare">Aftercare</option>
                                <option value="safety" data-i18n="safety">Safety</option>
                            </select>
                            <button class="btn btn-outline" id="inventoryBulkTypeApplyBtn" data-i18n="apply" disabled>Apply</button>
                        </div>
                        <button class="btn btn-danger" id="inventoryBulkDeleteBtn">Delete Selected</button>
                        <button class="btn btn-outline" id="inventoryBulkExportBtn">Export Selected</button>
                    </div>
                </div>

                <div id="inventoryList">
                    <div class="empty-state">
                        <i class="fas fa-box-open"></i>
                        <h3 data-i18n="no_inventory_items">No Inventory Items</h3>
                        <p data-i18n="track_supplies">Track your needles, ink, and professional supplies</p>
                        <button class="btn btn-primary" id="addFirstItem">
                            <i class="fas fa-plus"></i> <span data-i18n="add_first_item">Add First Item</span>
                        </button>
                    </div>
                </div>
            </div>

            <div id="inventoryAlerts"></div>
        </section>

        <!-- Calendar Section -->
        <section id="calendar" class="section">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-calendar-day"></i> <span data-i18n="studio_calendar">Studio Calendar</span>
                    </h2>
                    <button class="btn btn-primary" id="addCalendarSessionBtn">
                        <i class="fas fa-plus"></i> <span data-i18n="new_session">New Session</span>
                    </button>
                </div>

                <div class="calendar-controls">
                    <button class="btn btn-outline" id="prevMonthBtn">
                        <i class="fas fa-chevron-left"></i> <span data-i18n="previous">Previous</span>
                    </button>
                    <h3 id="calendarMonth" style="color: var(--primary); font-weight: 700; font-size: 1.3em;"></h3>
                    <button class="btn btn-outline" id="nextMonthBtn">
                        <span data-i18n="next">Next</span> <i class="fas fa-chevron-right"></i>
                    </button>
                </div>

                <div class="calendar-grid" id="calendarGrid">
                    <!-- Calendar will be generated here -->
                </div>
            </div>
        </section>

        <!-- Reports Section -->
        <section id="reports" class="section">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-chart-bar"></i> <span data-i18n="analytics_reports">Analytics & Reports</span>
                    </h2>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="totalSessions">0</div>
                        <div class="stat-label" data-i18n="total_sessions">Total Sessions</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="totalRevenue">$0</div>
                        <div class="stat-label" data-i18n="total_revenue">Total Revenue</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="avgSessionPrice">$0</div>
                        <div class="stat-label" data-i18n="avg_session_price">Avg Session Price</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="clientRetention">0%</div>
                        <div class="stat-label" data-i18n="client_retention">Client Retention</div>
                    </div>
                </div>

                <div style="margin: 25px 0;">
                    <h3 class="card-title"><i class="fas fa-download"></i> <span data-i18n="data_export">Data Export</span></h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; margin-top: 20px;">
                        <button class="btn btn-success" id="exportAllBtn1"><i class="fas fa-database"></i> <span data-i18n="full_backup">Full Backup</span>
                        </button>
                        <button class="btn btn-outline" id="exportClientsBtn"><i class="fas fa-users"></i> <span data-i18n="export_clients">Export Clients</span>
                        </button>
                        <button class="btn btn-outline" id="exportSessionsBtn"><i class="fas fa-calendar"></i> <span data-i18n="export_sessions">Export Sessions</span>
                        </button>
                        <button class="btn btn-outline" id="exportInventoryBtn"><i class="fas fa-box"></i> <span data-i18n="export_inventory">Export Inventory</span>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Settings Section -->
        <section id="settings" class="section">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-cog"></i> <span data-i18n="settings">Settings</span>
                    </h2>
                </div>

                <!-- Appearance Settings -->
                <div style="margin-bottom: 30px;">
                    <h3 class="card-title"><i class="fas fa-palette"></i> <span data-i18n="appearance">Appearance</span></h3>
                    
                    <div class="form-group">
                        <label class="form-label" data-i18n="theme">Theme</label>
                        <select class="form-control" id="settingsTheme">
                            <option value="dark" data-i18n="dark_theme">Dark (Default)</option>
                            <option value="light" data-i18n="light_theme">Light</option>
                            <option value="auto" data-i18n="auto_theme">Auto (System)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label" data-i18n="language_preference">Language Preference</label>
                        <select class="form-control" id="settingsLanguage">
                            <option value="en">üá¨üáß English</option>
                            <option value="es">üá™üá∏ Espa√±ol</option>
                            <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
                            <option value="he">üáÆüá± ◊¢◊ë◊®◊ô◊™</option>
                        </select>
                    </div>
                </div>

                <!-- Business Settings -->
                <div style="margin-bottom: 30px;">
                    <h3 class="card-title"><i class="fas fa-briefcase"></i> <span data-i18n="business_settings">Business Settings</span></h3>
                    
                    <div class="form-group">
                        <label class="form-label" data-i18n="studio_name">Studio Name</label>
                        <input type="text" class="form-control" id="settingsStudioName" placeholder="Your Studio Name">
                    </div>

                    <div class="form-group">
                        <label class="form-label" data-i18n="currency_symbol">Currency Symbol</label>
                        <select class="form-control" id="settingsCurrency">
                            <option value="USD">$ USD (US Dollar)</option>
                            <option value="EUR">‚Ç¨ EUR (Euro)</option>
                            <option value="GBP">¬£ GBP (British Pound)</option>
                            <option value="RUB">‚ÇΩ RUB (Russian Ruble)</option>
                            <option value="ILS">‚Ç™ ILS (Israeli Shekel)</option>
                            <option value="CAD">$ CAD (Canadian Dollar)</option>
                            <option value="AUD">$ AUD (Australian Dollar)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label" data-i18n="default_session_duration">Default Session Duration (hours)</label>
                        <input type="number" class="form-control" id="settingsDefaultDuration" min="0.5" step="0.5" value="2">
                    </div>
                </div>

                <!-- Inventory Settings -->
                <div style="margin-bottom: 30px;">
                    <h3 class="card-title"><i class="fas fa-boxes"></i> <span data-i18n="inventory_settings">Inventory Settings</span></h3>
                    
                    <div class="form-group">
                        <label class="form-label" data-i18n="default_low_stock_alert">Default Low Stock Alert Threshold</label>
                        <input type="number" class="form-control" id="settingsLowStockThreshold" min="0" value="5">
                        <small style="display: block; margin-top: 8px; color: rgba(255,255,255,0.6);" data-i18n="low_stock_help">You'll be notified when items reach this quantity</small>
                    </div>

                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                            <input type="checkbox" id="settingsAutoDeduct" style="width: auto; min-height: auto;">
                            <span data-i18n="auto_deduct_materials">Auto-deduct materials after sessions</span>
                        </label>
                    </div>
                </div>

                <!-- Notifications Settings -->
                <div style="margin-bottom: 30px;">
                    <h3 class="card-title"><i class="fas fa-bell"></i> <span data-i18n="notifications">Notifications</span></h3>
                    
                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                            <input type="checkbox" id="settingsNotifications" style="width: auto; min-height: auto;" checked>
                            <span data-i18n="enable_notifications">Enable notifications</span>
                        </label>
                        <small style="display: block; margin-top: 8px; color: rgba(255,255,255,0.6);" data-i18n="notifications_help">Get notified about upcoming sessions</small>
                    </div>

                    <div class="form-group">
                        <label class="form-label" data-i18n="session_reminder">Session Reminder (hours before)</label>
                        <input type="number" class="form-control" id="settingsReminderTime" min="0" max="48" value="2">
                        <small style="display: block; margin-top: 8px; color: rgba(255,255,255,0.6);" data-i18n="reminder_help">You'll be notified this many hours before a session starts</small>
                    </div>

                    <div class="form-group">
                        <button class="btn btn-outline" id="testNotificationBtn"><i class="fas fa-bell"></i> <span data-i18n="test_notifications">Test Notifications</span>
                        </button>
                    </div>
                </div>

                <!-- Data Management -->
                <div style="margin-bottom: 30px;">
                    <h3 class="card-title"><i class="fas fa-database"></i> <span data-i18n="data_management">Data Management</span></h3>
                    
                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                            <input type="checkbox" id="settingsAutoSave" style="width: auto; min-height: auto;" checked>
                            <span data-i18n="auto_save">Auto-save changes</span>
                        </label>
                        <small style="display: block; margin-top: 8px; color: rgba(255,255,255,0.6);" data-i18n="auto_save_help">Changes are saved automatically to your browser</small>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 20px;">
                        <button class="btn btn-success" id="exportAllBtn2"><i class="fas fa-download"></i> <span data-i18n="backup_all_data">Backup All Data</span>
                        </button>
                        <button class="btn btn-outline" id="importDataBtn"><i class="fas fa-upload"></i> <span data-i18n="import_data">Import Data</span>
                        </button>
                        <button class="btn btn-danger" id="clearDataBtn"><i class="fas fa-trash-alt"></i> <span data-i18n="clear_all_data">Clear All Data</span>
                        </button>
                    </div>
                </div>

                <!-- About -->
                <div style="margin-bottom: 20px; padding: 20px; background: rgba(0,188,212,0.1); border-radius: 12px; border: 1px solid rgba(0,188,212,0.3);">
                    <h3 class="card-title"><i class="fas fa-info-circle"></i> <span data-i18n="about">About</span></h3>
                    <p style="margin: 10px 0; color: rgba(255,255,255,0.8);">
                        <strong>InkManager Pro</strong> v2.0<br>
                        <span data-i18n="about_description">Professional Tattoo Studio Management System</span>
                    </p>
                    <p style="margin: 10px 0; font-size: 0.9em; color: rgba(255,255,255,0.6);">
                        <span data-i18n="made_with">Made with</span> ‚ù§Ô∏è <span data-i18n="for_artists">for tattoo artists worldwide</span>
                    </p>
                </div>

                <!-- Save Settings Button -->
                <div style="display: flex; justify-content: flex-end; gap: 15px; margin-top: 20px;">
                    <button class="btn btn-outline" id="resetSettingsBtn"><i class="fas fa-undo"></i> <span data-i18n="reset_defaults">Reset to Defaults</span>
                    </button>
                    <button class="btn btn-primary" id="saveSettingsBtn"><i class="fas fa-save"></i> <span data-i18n="save_settings">Save Settings</span>
                    </button>
                </div>
            </div>
        </section>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <!-- Install Prompt -->
    <div class="install-prompt" id="installPrompt">
        <span style="font-weight: 600; font-size: 1em;" data-i18n="install_prompt">Install InkManager Pro for the ultimate experience?</span>
        <div style="display: flex; gap: 12px;">
            <button class="btn btn-success" id="installConfirmBtn">
                <i class="fas fa-download"></i> <span data-i18n="install_now">Install Now</span>
            </button>
            <button class="btn btn-outline" id="installDismissBtn">
                <span data-i18n="maybe_later">Maybe Later</span>
            </button>
        </div>
    </div>

    <!-- Client Modal -->
    <div id="clientModal" class="modal">
        <div class="modal-content">
            <div class="card-header">
                <h3 class="card-title" id="clientModalTitle"><i class="fas fa-user-plus"></i> <span data-i18n="create_new_client">Create New Client</span></h3>
                <button class="btn btn-danger" id="closeClientModalBtn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="clientForm">
                <div class="form-group">
                    <label class="form-label" data-i18n="full_name">Full Name *</label>
                    <input type="text" class="form-control" id="clientName" placeholder="John Smith" data-i18n-placeholder="name_placeholder" required>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="form-group">
                        <label class="form-label" data-i18n="phone_number">Phone Number</label>
                        <input type="tel" class="form-control" id="clientPhone" placeholder="+1 (555) 123-4567" data-i18n-placeholder="phone_placeholder">
                    </div>

                    <div class="form-group">
                        <label class="form-label" data-i18n="email_address">Email Address</label>
                        <input type="email" class="form-control" id="clientEmail" placeholder="john@example.com" data-i18n-placeholder="email_placeholder">
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="form-group">
                        <label class="form-label" data-i18n="birth_date">Birth Date</label>
                        <input type="date" class="form-control" id="clientBirthDate">
                    </div>

                    <div class="form-group">
                        <label class="form-label" data-i18n="skin_type">Skin Type</label>
                        <select class="form-control" id="clientSkinType">
                            <option value="" data-i18n="select_skin_type">Select skin type...</option>
                            <option value="normal" data-i18n="normal">Normal</option>
                            <option value="sensitive" data-i18n="sensitive">Sensitive</option>
                            <option value="oily" data-i18n="oily">Oily</option>
                            <option value="dry" data-i18n="dry">Dry</option>
                            <option value="combination" data-i18n="combination">Combination</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label" data-i18n="emergency_contact">Emergency Contact</label>
                    <input type="text" class="form-control" id="clientEmergencyContact" 
                           placeholder="Name and phone number" data-i18n-placeholder="emergency_placeholder">
                </div>

                <div class="form-group">
                    <label class="form-label" data-i18n="notes_preferences">Notes & Preferences</label>
                    <textarea class="form-control" id="clientNotes" 
                              placeholder="Allergies, style preferences, important medical notes, design ideas..." 
                              data-i18n-placeholder="notes_placeholder" rows="4"></textarea>
                </div>

                <div style="display: flex; gap: 12px; margin-top: 25px;">
                    <button type="button" class="btn btn-outline" id="cancelClientBtn" style="flex: 1;">
                        <i class="fas fa-times"></i> <span data-i18n="cancel">Cancel</span>
                    </button>
                    <button type="submit" class="btn btn-primary" id="saveClientBtn" style="flex: 2;">
                        <i class="fas fa-save"></i> <span data-i18n="save_client">Save Client</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Session Modal -->
    <div id="sessionModal" class="modal">
        <div class="modal-content">
            <div class="card-header">
                <h3 class="card-title"><i class="fas fa-calendar-plus"></i> <span data-i18n="schedule_session">Schedule Session</span></h3>
                <button class="btn btn-danger" id="closeSessionModalBtn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="sessionForm">
                <div class="form-group">
                    <label class="form-label" data-i18n="client">Client *</label>
                    <select class="form-control" id="sessionClient" required>
                        <option value="" data-i18n="select_client">Select a client...</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label" data-i18n="session_title">Session Title *</label>
                    <input type="text" class="form-control" id="sessionTitle" 
                           placeholder="e.g., Sleeve Outline, Cover-up, New Tattoo..." data-i18n-placeholder="session_title_placeholder" required>
                </div>

                <div class="form-group">
                    <label class="form-label" data-i18n="date_time">Date & Time *</label>
                    <input type="datetime-local" class="form-control" id="sessionDateTime" required>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="form-group">
                        <label class="form-label" data-i18n="duration_hours">Duration (hours)</label>
                        <input type="number" class="form-control" id="sessionDuration" 
                               placeholder="2" min="1" max="12" step="0.5" value="2">
                    </div>

                    <div class="form-group">
                        <label class="form-label" data-i18n="price">Price</label>
                        <input type="number" class="form-control" id="sessionPrice" 
                               placeholder="0.00" step="0.01" min="0">
                    </div>
                </div>

                <!-- Materials Used Section -->
                <div class="materials-section">
                    <h4 style="color: var(--primary); margin-bottom: 15px;">
                        <i class="fas fa-syringe"></i> <span data-i18n="materials_used">Materials Used</span>
                    </h4>
                    
                    <div class="materials-grid">
                        <div class="form-group">
                            <label class="form-label" data-i18n="item">Item</label>
                            <select class="form-control" id="materialItem">
                                <option value="" data-i18n="select_item">Select item...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label" data-i18n="quantity">Quantity</label>
                            <input type="number" class="form-control material-qty" id="materialQty" 
                                   min="1" value="1" placeholder="Qty">
                        </div>
                        <button type="button" class="btn btn-primary" id="addMaterialBtn" style="min-height: 50px;">
                            <i class="fas fa-plus"></i> <span data-i18n="add">Add</span>
                        </button>
                    </div>

                    <div id="materialsList">
                        <!-- Materials will be added here dynamically -->
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label" data-i18n="session_notes">Session Notes</label>
                    <textarea class="form-control" id="sessionNotes" 
                              placeholder="Design details, placement, special requests, aftercare instructions..." 
                              data-i18n-placeholder="session_notes_placeholder" rows="4"></textarea>
                </div>

                <button type="submit" class="btn btn-primary" style="width: 100%; padding: 16px; font-size: 1.1em;">
                    <i class="fas fa-save"></i> <span data-i18n="save_session">Save Session</span>
                </button>
            </form>
        </div>
    </div>

    <!-- Inventory Modal -->
    <div id="inventoryModal" class="modal">
        <div class="modal-content">
            <div class="card-header">
                <h3 class="card-title" id="inventoryModalTitle"><i class="fas fa-box"></i> <span data-i18n="new_inventory_item">New Inventory Item</span></h3>
                <button class="btn btn-danger" id="closeInventoryModalBtn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="inventoryForm">
                <div class="form-group">
                    <label class="form-label" data-i18n="item_name">Item Name *</label>
                    <input type="text" class="form-control" id="itemName" 
                           placeholder="Round Liner 5RL, Eternal Ink Black, Disposable Grips..." data-i18n-placeholder="item_name_placeholder" required>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="form-group">
                        <label class="form-label" data-i18n="type">Type *</label>
                        <select class="form-control" id="itemType" required>
                            <option value="" data-i18n="select_type">Select type...</option>
                            <option value="needle" data-i18n="needle">Needle</option>
                            <option value="ink" data-i18n="ink">Ink</option>
                            <option value="machine" data-i18n="machine">Machine</option>
                            <option value="supply" data-i18n="supply">Supply</option>
                            <option value="aftercare" data-i18n="aftercare">Aftercare</option>
                            <option value="safety" data-i18n="safety">Safety Equipment</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" data-i18n="current_quantity">Current Quantity *</label>
                        <input type="number" class="form-control" id="itemQty" 
                               placeholder="10" min="0" required value="10">
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="form-group">
                        <label class="form-label" data-i18n="low_stock_alert">Low Stock Alert</label>
                        <input type="number" class="form-control" id="itemAlert" 
                               placeholder="5" min="1" value="5">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" data-i18n="price_per_unit">Price per Unit</label>
                        <input type="number" class="form-control" id="itemPrice" 
                               placeholder="0.00" step="0.01" min="0">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label" data-i18n="supplier_notes">Supplier & Notes</label>
                    <textarea class="form-control" id="itemNotes" 
                              placeholder="Supplier information, color codes, expiration dates..." 
                              data-i18n-placeholder="supplier_notes_placeholder" rows="3"></textarea>
                </div>
                
                <div style="display: flex; gap: 12px; margin-top: 25px;">
                    <button type="button" class="btn btn-outline" id="cancelInventoryBtn" style="flex: 1;">
                        <span data-i18n="cancel">Cancel</span>
                    </button>
                    <button type="submit" class="btn btn-primary" id="saveInventoryBtn" style="flex: 2;">
                        <i class="fas fa-save"></i> <span data-i18n="save_item">Save Item</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script src="./assets/js/main.js"></script>

    <!-- App JavaScript for PWA, Mobile Menu, and UI Interactions -->
    <script src="./assets/app.js"></script>

    <!-- Event initialization for CSP compliance -->
    <script src="./assets/js/init.js"></script>

    <!-- Toast Notification Element -->
    <div id="toast" class="toast"></div>

    <!-- PWA Install Prompt -->
    <div class="install-prompt">
        <div>
            <strong>üì± Install InkManager Pro</strong>
            <p style="margin: 5px 0 0; font-size: 0.9em;">Get quick access and work offline</p>
        </div>
        <div style="display: flex; gap: 10px;">
            <button class="btn btn-outline">
                Later
            </button>
            <button class="btn btn-success">
                <i class="fas fa-download"></i> Install
            </button>
        </div>
    </div>

    <!-- Mobile Bottom Navigation -->
    <nav class="mobile-bottom-nav" id="mobileBottomNav">
        <a class="mobile-nav-item active" data-section="dashboard" href="#dashboard">
            <i class="fas fa-home"></i>
            <span data-i18n="dashboard">Dashboard</span>
        </a>
        <a class="mobile-nav-item" data-section="clients" href="#clients">
            <i class="fas fa-users"></i>
            <span data-i18n="clients">Clients</span>
        </a>
        <a class="mobile-nav-item" data-section="sessions" href="#sessions">
            <i class="fas fa-calendar"></i>
            <span data-i18n="sessions">Sessions</span>
        </a>
        <a class="mobile-nav-item" data-section="inventory" href="#inventory">
            <i class="fas fa-boxes"></i>
            <span data-i18n="inventory">Inventory</span>
        </a>
        <a class="mobile-nav-item" data-section="settings" href="#settings">
            <i class="fas fa-cog"></i>
            <span data-i18n="settings">Settings</span>
        </a>
    </nav>

    <!-- Pull to Refresh Indicator -->
    <div class="pull-to-refresh" id="pullToRefresh">
        <i class="fas fa-sync-alt"></i> <span data-i18n="refreshing">Refreshing...</span>
    </div>

    <!-- Swipe Indicators -->
    <div class="swipe-indicator left" id="swipeLeft">
        <i class="fas fa-chevron-left"></i>
    </div>
    <div class="swipe-indicator right" id="swipeRight">
        <i class="fas fa-chevron-right"></i>
    </div>
</body>
</html>
